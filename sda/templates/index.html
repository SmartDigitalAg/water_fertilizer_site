<!DOCTYPE html>
{% load static %}
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>흙토람 메인</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
  <style>
    /* ————— 기존 스타일 그대로 ————— */
    body {
      margin: 0;
      font-family: 'Noto Sans KR', sans-serif;
      background: #fff;
      color: #333;
    }
    .wrapper {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #eee;
    }
    header .logo { height: 60px; }
    header .search-box {
      flex: 1; max-width: 360px; margin: 0 24px;
      display: flex; align-items: center;
      border: 1px solid #ccc;
      border-radius: 20px;
      overflow: hidden;
      height: 36px;
    }
    header .search-box input {
      flex: 1; border: none; padding: 6px 12px; outline: none;
    }
    header .search-box button {
      background: #553d1b; width: 36px; height: 36px;
      border: none; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; padding: 0;
    }
    header .user-actions {
      display: flex; align-items: center; gap: 16px;
    }
    header .user-actions button {
      display: flex; align-items: center; gap: 4px;
      background: none; border: none; color: #553d1b;
      font-size: 0.94em; cursor: pointer;
    }

    /* ————— nav + 드롭다운 추가 부분 ————— */
    nav {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    nav ul {
      display: flex; justify-content: center; gap: 24px;
      list-style: none; margin: 0; padding: 0;
    }
    nav ul li {
      position: relative; /* 드롭다운 기준 */
    }
    nav ul li a {
      text-decoration: none;
      color: #553d1b;
      font-size: 0.96em;
      padding: 4px 8px;
      border-radius: 4px;
      transition: background 0.13s;
      display: flex; align-items: center; justify-content: center;
    }
    nav ul li a:hover {
      background: #f9ede4;
    }
    /* 드롭다운 토글 */
    nav ul li.dropdown > a {
      cursor: pointer;
    }
    nav ul li.dropdown .dropdown-menu {
      display: none;
      position: absolute; top: 100%; left: 0;
      background: #fff;
      border: 1px solid #eee; border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      white-space: nowrap; z-index: 10;
      margin-top: 4px;
    }
    nav ul li.dropdown.open .dropdown-menu {
      display: block;
    }
    nav ul li.dropdown .dropdown-menu li a {
      display: block;
      padding: 8px 16px;
      color: #553d1b;
      font-size: 0.94em;
    }
    nav ul li.dropdown .dropdown-menu li a:hover {
      background: #f2e3bf; /* 연흙색 하이라이트 */
    }
    /* 열린마당 옆 햄버거(icon15) */
    nav ul li.open-menu a i.icon15 {
      transform: none;
    }

    /* ————— 이하 기존 스타일 계속 ————— */
    .icon-carousel {
      position: relative; margin: 24px 0;
    }
    .icon-carousel .track {
      display: flex; overflow-x: auto; gap: 24px; padding: 0 64px;
      scroll-behavior: smooth;
    }
    .icon-carousel .track::-webkit-scrollbar { display: none; }
    .icon-carousel button {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: none; border: none; cursor: pointer; padding: 8px;
    }
    .icon-carousel .prev { left: 16px; }
    .icon-carousel .next { right: 16px; }
    .icon-box {
      flex: 0 0 auto; width: 100px; text-align: center;
      padding: 14px; border: 1px solid #eee; border-radius: 12px;
      background: #faf7f3; transition: border .15s, box-shadow .15s;
    }
    .icon-box:hover {
      border-color: #eab76d; box-shadow: 0 2px 10px rgba(234,183,109,0.5);
    }
    .icon-box .icon {
      display: block; margin: 0 auto 8px;
    }
    .icon-box .icon-title {
      font-size: 0.94em; font-weight: 500; color: #613f14;
    }
    .banners {
      display: flex; justify-content: center; gap: 24px; margin: 24px 0 40px;
    }
    .banner {
      text-align: center; width: 140px; padding: 12px;
      border: 1px solid #eee; border-radius: 10px; background: #fff;
      transition: border .15s, box-shadow .15s;
    }
    .banner:hover {
      border-color: #bf9723; box-shadow: 0 2px 8px rgba(191,151,35,0.3);
    }
    .banner .icon {
      display: block; margin: 0 auto 8px;
    }
    .banner span {
      display: block; font-size: 0.92em; color: #333;
    }
  </style>
</head>
<body>

  <div class="wrapper">
    <!-- 헤더 -->
    <header>
      <img src="{% static 'images/h1_logo.png' %}" alt="흙토람" class="logo">
      <div class="search-box">
        <input type="text" placeholder="통합검색">
        <button><i class="icon icon1"></i></button>
      </div>
      <div class="user-actions">
        <button><i class="icon icon3"></i>로그인</button>
        <button><i class="icon icon4"></i>ENGLISH</button>
      </div>
    </header>

    <!-- 내비게이션 -->
    <nav>
      <ul>
        <li><a href="#">SIS</a></li>
        <li><a href="#">토양과 농업환경</a></li>
        <li><a href="#">토양검정정보</a></li>

        <!-- dropdown -->
        <li class="dropdown">
          <a class="active">비료사용처방</a>
          <ul class="dropdown-menu">
            <li><a href="#">비료사용처방</a></li>
            <li><a href="#">비료사용처방 체험하기</a></li>
            <li><a href="#">비료 표준사용량 처방</a></li>
          </ul>
        </li>

        <li><a href="#">밭작물물사용처방</a></li>
        <li><a href="#">통계자료</a></li>
        <li><a href="#">토양정보신청</a></li>
        <li><a href="#">열린마당</a></li>

        <!-- 햄버거(icon15): 열린마당 옆 -->
        <li class="open-menu">
          <a href="#"><i class="icon icon15"></i></a>
        </li>
      </ul>
    </nav>

    <!-- 아이콘 캐러셀 -->
    <section class="icon-carousel">
      <button class="prev"><i class="icon icon16"></i></button>
      <div class="track">
        <div class="icon-box"><i class="icon icon27"></i><div class="icon-title">비료사용처방</div></div>
        <div class="icon-box"><i class="icon icon28"></i><div class="icon-title">토양검정정보</div></div>
        <div class="icon-box"><i class="icon icon29"></i><div class="icon-title">농경지화학성</div></div>
        <div class="icon-box"><i class="icon icon30"></i><div class="icon-title">토양특성</div></div>
        <div class="icon-box"><i class="icon icon31"></i><div class="icon-title">작물별 적성도</div></div>
        <div class="icon-box"><i class="icon icon32"></i><div class="icon-title">토양수분정보</div></div>
        <div class="icon-box"><i class="icon icon33"></i><div class="icon-title">현장진단</div></div>
      </div>
      <button class="next"><i class="icon icon17"></i></button>
    </section>

    <!-- 배너 섹션 -->
    <section class="banners">
      <div class="banner"><i class="icon icon36"></i><span>토양도 신청</span></div>
      <div class="banner"><i class="icon icon37"></i><span>물사용처방 체험</span></div>
      <div class="banner"><i class="icon icon38"></i><span>비료사용처방 체험</span></div>
    </section>
  </div>

  <script>
    // 캐러셀 버튼
    document.querySelector('.icon-carousel .prev').onclick = () => {
      document.querySelector('.icon-carousel .track')
              .scrollBy({ left: -200, behavior: 'smooth' });
    };
    document.querySelector('.icon-carousel .next').onclick = () => {
      document.querySelector('.icon-carousel .track')
              .scrollBy({ left:  200, behavior: 'smooth' });
    };

    // 비료사용처방 드롭다운 클릭 토글
    document.querySelectorAll('nav ul li.dropdown > a').forEach(toggle => {
      toggle.addEventListener('click', e => {
        e.preventDefault();
        toggle.parentElement.classList.toggle('open');
      });
    });
    // 외부 클릭 시 드롭다운 닫기
    document.addEventListener('click', e => {
      if (!e.target.closest('nav ul li.dropdown')) {
        document.querySelectorAll('nav ul li.dropdown.open')
                .forEach(li => li.classList.remove('open'));
      }
    });
  </script>
</body>
</html>